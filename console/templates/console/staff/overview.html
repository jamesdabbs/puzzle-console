{% extends "console/base.html" %}
{% load bootstrap_tags %}
{% load markup %}

{% comment %}
Variables required:

game = Game to describe
puzzles = Puzzles that are a part of this game
{% endcomment %}

{% block title %}{{ game }} Staff Overview{% endblock %}

{% block content %}

<div class="page-header">
    <h1>{{ game }} Staff Overview</h1>
</div>

<h2>The Puzzles</h2>

<p>Here are a list of the puzzles for {{ game }}.</p>

{% for puzzle in puzzles %}
<div class="well" id="puzzle-{{ puzzle.number }}">
    <h3>Puzzle {{ puzzle.number }}: {{ puzzle }} <small>{{ puzzle.get_completion_display }}</small></h3>
    
    <p><a href="#puzzle-{{ puzzle.number }}">Link</a></p> <hr />
    
    <div class="row"><div class="offset1 span10">
        <h4>Designer(s):</h4>
        <p style="background:black;color:black">
        {% for player in puzzle.designers.all %}
            {{ player }}{% if not forloop.last %},{% endif %}
        {% empty %}
            <em>none</em>
        {% endfor %}
        </p>
        
        <h4>Playtester(s):</h4>
        <p>
        {% for player in puzzle.playtesters.all %}
            {{ player }}{% if not forloop.last %},{% endif %}
        {% empty %}
            <em>none</em>
        {% endfor %}
        </p>
        
        <h4>Description</h4>
        {{ puzzle.description|markdown|default:"<p><i>No given description</i></p>" }}
        
        {% if puzzle.attachment_url %}
            <p><strong>Attachment:</strong> <a href="{{ puzzle.attachment_url }}">{{ puzzle.attachment_url }}</a></p>
        {% endif %}
        <hr />
        
        <h4>Solution</h4>
        <div  style='background:black;color:black;'>
        {{ puzzle.solution|markdown|default:"<p><i>No given solution</i></p>" }}
        </div>
        
        <h4>Puzzle Patrol Badge Code</h4>
        <p>{{ puzzle.code.code }}</p>
    </div></div>
</div>
{% endfor %}

{% endblock %}